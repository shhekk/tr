generator client {
  provider = "prisma-client"
  output   = "./generated"
}

datasource db {
  provider = "postgresql"
  // url = env("DATABASE_URL") 
  // Avoid Error, url field is moved to config in prisma 7
}

model User {
  id           String   @id @default(uuid())
  email        String
  password     String
  status       Status   @default(PENDING)
  providerName Provider

  username String? @unique

  refresh   String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([email, providerName]) // [samemail google | samemail github] are seperate accounts *creates a new selector email_providerName to find with both fields.
}

enum Status {
  PENDING
  ACTIVE
  SUSPENDED
}

enum Provider {
  LOCAL
  GOOGLE
  GITHUB
}
